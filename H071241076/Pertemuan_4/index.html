<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UNO - Royal Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Arsenal:wght@700&family=Oswald:wght@700&display=swap" rel="stylesheet">

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Anton&display=swap");

      html, body {
        width: 100%;
        height: 100%;
        margin: 0;
        font-family: "Arsenal", sans-serif;
        background-color: #000;
        background-image: url('bg.jpeg');
        overflow: hidden;
        color: white;
      }

      h1, h3 {
        font-family: "Oswald", sans-serif;
        text-transform: uppercase;
      }

      #start-screen h1 {
        text-shadow: 3px 3px 0px #d3d3d3;
      }

      .info-panel {
        border: 3px solid white;
        border-image: linear-gradient(to right, transparent, white, white, transparent) 1;
        padding: 0.25rem 1.5rem;
        background: linear-gradient(to right, 
          transparent, 
          rgba(185, 28, 28, 0.9) 15%, 
          rgba(185, 28, 28, 0.9) 85%, 
          transparent
        );
      }

      .hand-container {
        position: absolute;
        left: 0;
        width: 100%;
        height: 30%;
        pointer-events: none;
      }

      #bot-hand { top: 5%; }
      #player-hand { bottom: 5%; }

      .card {
        width: 112px;
        height: 176px;
        position: absolute;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        transition: 0.3s;
        pointer-events: auto;
      }

      #player-hand .card:hover { transform: scale(1.1) translateY(-15px) !important; z-index: 40; }

      .persona-panel { border: 3px solid white; box-shadow: 0 0 15px rgba(255, 0, 0, 0.5); background: rgba(0, 0, 0, 0.8); }
      .persona-button { transform: skewX(-15deg); border: 3px solid white; }
      .persona-button > span { display: inline-block; transform: skewX(15deg); }

      #pass-button {
        position: absolute;
        left: -80px;
        top: 50%;
        transform: translateY(-50%);
        background-color: #374151;
        color: white;
        font-weight: bold;
        padding: 0.5rem 1.5rem;
        font-size: 1.25rem;
        z-index: 20;
        border: 3px solid white;
        cursor: pointer;
        transition: 0.2s;
      }

      #pass-button:hover {
        background-color: white;
        color: black;
      }
            

      @keyframes slideInFromLeft {
        0% {
          transform: translateX(-10%);
          opacity: 0;
        }
        20%, 80% {
          transform: translateX(0);
          opacity: 1;
        }
        100% {
          transform: translateX(0);
          opacity: 0;
        }
      }

      .animate-turn-slide {
        animation: slideInFromLeft 1.5s ease-in-out forwards;
      }

      
    </style>
  </head>
  <body>
    <div id="start-screen" class="w-full h-full flex items-center justify-center absolute z-50 bg-black">
      <div class="text-center p-8 persona-panel">
        <h1 class="text-6xl mb-4 text-red-600 tracking-wider">UNO ROYAL</h1>
        <p class="text-lg mb-2">Balance: <span id="balance-display">$5000</span></p>
        <div class="mb-6">
          <label for="bet-input" class="block mb-2">Set Your Bet</label>
          <input type="number" id="bet-input" value="100" class="w-full p-2 text-black text-center text-xl"/>
        </div>
        <button id="start-button" class="bg-red-600 hover:bg-white hover:text-red-600 text-white font-bold py-3 px-10 text-2xl persona-button">
          <span>START DUEL</span>
        </button>
      </div>
    </div>

    <div id="game-screen" class="hidden w-full h-full relative">
      <div class="absolute top-4 left-1/2 -translate-x-1/2 z-10 text-white text-2xl info-panel">
        <span>RIVAL (<span id="bot-card-count">7</span> Cards)</span>
      </div>

      <div id="bot-hand" class="hand-container"></div>

      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center space-x-8">
        <div class="relative flex items-center justify-center">
          <button id="pass-button" class="hidden persona-button">
            <span>PASS</span>
          </button>
          <img id="deck" src="asset/card_back.png" alt="Deck" class="w-28 h-44 cursor-pointer hover:scale-105 transition-transform"/>
        </div>

        <div id="discard-pile" class="w-28 h-44 rounded-lg flex items-center justify-center bg-black bg-opacity-40 transition-all duration-300"></div>
      </div>

      <button id="uno-button" class="hidden absolute top-1/2 left-1/2 translate-x-32 -translate-y-1/2 bg-yellow-400 text-black font-bold p-6 rounded-full text-4xl animate-pulse border-4 border-black z-20">
        UNO!
      </button>

      <button id="call-uno-button" class="hidden absolute top-1/2 left-1/2 translate-x-32 -translate-y-48 bg-cyan-400 text-black font-bold py-2 px-4 text-xl z-20 persona-button">
        <span>CALL UNO!</span>
      </button>

      <div class="absolute bottom-4 left-1/2 -translate-x-1/2 z-10 text-white text-2xl info-panel">
        <span>YOU (Balance: <span id="player-balance-ingame">$5000</span>)</span>
      </div>

      <div id="player-hand" class="hand-container"></div>

      <div id="turn-indicator-container" class="hidden absolute top-[55%] left-[59%] -translate-y-1/2 z-40 pointer-events-none">
        <div id="turn-indicator" class="relative">
          <img src="persona3.png" alt="Turn Indicator Background" class="w-[480px] h-auto">
          <span id="turn-indicator-text" class="absolute top-[58%] left-[48%] -translate-x-1/2 -translate-y-1/2 text-4xl text-white font-black whitespace-nowrap rotate-[1deg]"></span>
        </div>
      </div>
    </div>

    <div id="color-picker" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
      <div class="p-6 persona-panel text-center">
        <h3 class="text-3xl mb-4 text-red-600">CHOOSE TARGET COLOR</h3>
        <div class="flex space-x-4">
          <button class="color-choice w-20 h-20 rounded-full bg-red-600 border-4 border-white hover:scale-110 transition-transform" data-color="Red"></button>
          <button class="color-choice w-20 h-20 rounded-full bg-green-600 border-4 border-white hover:scale-110 transition-transform" data-color="Green"></button>
          <button class="color-choice w-20 h-20 rounded-full bg-blue-600 border-4 border-white hover:scale-110 transition-transform" data-color="Blue"></button>
          <button class="color-choice w-20 h-20 rounded-full bg-yellow-500 border-4 border-white hover:scale-110 transition-transform" data-color="Yellow"></button>
        </div>
      </div>
    </div>

    <div id="game-over-screen" class="hidden w-full h-full flex items-center justify-center absolute z-50 bg-black bg-opacity-80">
      <div class="text-center p-10 bg-red-700 persona-panel">
        <h1 class="text-7xl mb-4">GAME OVER</h1>
        <p class="text-2xl mb-6">You've run out of funds.</p>
        <button id="restart-button" class="bg-black hover:bg-white hover:text-red-600 text-white font-bold py-3 px-10 text-2xl persona-button">
          <span>RETRY</span>
        </button>
      </div>
    </div>

    <div id="round-over-popup" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
      <div class="text-center p-10 persona-panel">
        <h1 id="popup-title" class="text-7xl mb-4"></h1>
        <p id="popup-message" class="text-2xl mb-6"></p>
        <button id="popup-continue-button" class="bg-red-600 hover:bg-white hover:text-red-600 text-white font-bold py-3 px-10 text-2xl persona-button">
          <span>CONTINUE</span>
        </button>
      </div>
    </div>

    <div id="error-popup" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50">
      <div class="text-center p-8 persona-panel w-1/3">
        <h3 id="error-title" class="text-3xl mb-4 text-yellow-400">INVALID BET</h3>
        <p id="error-message" class="text-xl mb-6"></p>
        <button id="error-ok-button" class="bg-gray-600 hover:bg-white hover:text-black text-white font-bold py-2 px-8 text-xl persona-button">
          <span>OK</span>
        </button>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>